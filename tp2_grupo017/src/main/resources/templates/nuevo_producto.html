<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head th:replace="~{layouts/head::head}"></head>

<body>
	<header th:replace="~{layouts/header::header}"></header>
	<nav th:replace="~{layouts/nav::nav}"></nav>


	<div id="container-fluid ">
		<div class="row g-0">
			<section class="col-xs-12 col-sm-12 col-md-9 col-lg-9">

				<h3 class="tituloh3 " th:text="${edicion}?'Modificar producto':'Nuevo producto' "></h3>



				<form class="row mt-3 g-3 needs-validation p-5"
					th:action="${edicion}?@{/producto/editar}:@{/producto/guardar}" th:object="${producto}"
					method="post" enctype="multipart/form-data">

					<!-- <div class="col-6"> -->
					<!-- <label for="codigo" class="form-label">codigo:</label> -->
					<!-- <div class="text-danger" th:if="${#fields.hasErrors('codigo')}" th:errors="*{codigo}"></div> -->
					<input id="codigo" class="form-control form-control-sm" type="hidden" th:field="*{codigo}" />

					<!-- </div> -->

					<div class="mb-6">
						<label for="nombre" class="form-label">nombre del producto</label>
						<input id="nombre" type="text" placeholder="escriba el nombre del producto" th:field="*{nombre}"
							class="form-control form-control-sm" />
						<div class="text-danger" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>

					</div>





					<div class="col-6">
						<label for="precio" class="form-label">precio:</label>
						<input id="precio" class="form-control form-control-sm" type="number" th:field="*{precio}" />
						<div class="text-danger" th:if="${#fields.hasErrors('precio')}" th:errors="*{precio}"></div>
						<br>

					</div>


					<div class="col-6">

						<label for="categoria" class="form-label">categoria:</label>
						<select class="form-select form-control-sm" th:field="*{categoria.id}">							
							<option th:each="categoria : ${categoria}" th:value="${categoria.id}" th:text="${categoria.nombre}" selected = false></option>
						</select>

						<div class="text-danger" th:if="${#fields.hasErrors('categoria')}" th:errors="*{categoria}">
						</div>


					</div>


					<div class="col-6">
						<label for="descuento" class="form-label">descuento:</label>
						<input id="descuento" class="form-control form-control-sm" type="number"
							th:field="*{descuento}" />
						<div class="text-danger" th:if="${#fields.hasErrors('descuento')}" th:errors="*{descuento}">
						</div>

					</div>
					
					<div class="col-6">
						<label for="imagen" class="form-label">Imagen</label>
						<input id="imagen" name="file" type="file" class="form-control form-control-sm"
							th:text="${producto.imagen}" />

					</div>



					<div class="col-3 mx-auto d-grid gap-2">
						<button class="btn btn-primary btn-lg" th:value="${edicion} ? 'Modificar': 'Guardar'"
							type="submit" value="guardar">guardar</button>
					</div>
				</form>


				<p th:if="${error}" th:text="${error}"></p>

			</section>

			<div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 content-aside">
				<aside th:replace="~{layouts/aside::aside}"></aside>
			</div>

		</div>
	</div>

	<footer th:replace="~{layouts/footer::footer}"> </footer>

</body>

</html>